--- origsrc/webkit-1.1.10/JavaScriptCore/runtime/Collector.cpp	2009-06-17 22:27:46.189348600 -0500
+++ src/webkit-1.1.10/JavaScriptCore/runtime/Collector.cpp	2009-06-17 22:14:34.000000000 -0500
@@ -57,6 +57,11 @@
 #include <sys/mman.h>
 #include <unistd.h>
 
+#if PLATFORM(CYGWIN)
+#define WIN32_LEAN_AND_MEAN
+#include <windows.h>
+#endif
+
 #if PLATFORM(SOLARIS)
 #include <thread.h>
 #else
@@ -409,7 +414,7 @@ static inline void* currentThreadStackBa
 #elif PLATFORM(WIN_OS) && PLATFORM(X86_64) && COMPILER(MSVC)
     PNT_TIB64 pTib = reinterpret_cast<PNT_TIB64>(NtCurrentTeb());
     return reinterpret_cast<void*>(pTib->StackBase);
-#elif PLATFORM(WIN_OS) && PLATFORM(X86) && COMPILER(GCC)
+#elif (PLATFORM(WIN_OS) || PLATFORM(CYGWIN)) && PLATFORM(X86) && COMPILER(GCC)
     // offset 0x18 from the FS segment register gives a pointer to
     // the thread information block for the current thread
     NT_TIB* pTib;
